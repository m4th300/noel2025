:root{
  --bg:#05060a;
  --text:#f6f7ff;
  --muted:rgba(255,255,255,.72);
  --glass:rgba(0,0,0,.40);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* ===== Overlay lock ===== */
.overlay{
  position:fixed;
  inset:0;
  display:grid;
  place-items:center;
  padding:24px;
  background: rgba(0,0,0,.72);
  backdrop-filter: blur(10px);
  z-index: 9999;
  opacity: 1;
  transform: translateY(0);
  transition: opacity .6s ease, transform .6s ease;
}
.overlay.is-hidden{
  opacity: 0;
  transform: translateY(-8px);
  pointer-events:none;
}

.lock-card{
  width:min(520px, 100%);
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 18px;
  padding: 22px;
}
.lock-title{font-size:22px; font-weight:700; margin-bottom:6px}
.lock-sub{color:rgba(255,255,255,.75); margin-bottom:16px}
.lock-row{display:flex; gap:10px}
.lock-input{
  flex:1;
  padding:12px 14px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.25);
  color: var(--text);
  outline:none;
}
.lock-btn{
  padding:12px 14px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.10);
  color: var(--text);
  cursor:pointer;
}
.lock-btn:hover{background: rgba(255,255,255,.16)}
.lock-error{margin-top:10px; color:#ffb4b4; min-height:20px}

/* ===== Content scroll container ===== */
.content{
  height:100vh;
  overflow-y:auto;
  -webkit-overflow-scrolling: touch;
}

/* ===== Stack / “pile de feuilles” ===== */
.stack{
  height:100vh;
  position: sticky;
  top: 0;
  z-index: calc(10 + var(--i));
  display:grid;
  place-items:center;
  background: var(--bg);
}

/* Intro / Outro */
.intro-inner{
  padding: 24px;
  text-align:center;
  max-width: 560px;
}
.intro h1{margin:0; font-size:46px; letter-spacing:.5px}
.intro p{margin:10px 0 0; color: var(--muted)}
.outro h2{margin:0; font-size:38px}
.outro p{margin:10px 0 0; color: var(--muted)}

/* ===== Frame visuel ===== */
.frame{
  overflow:hidden;
}

/* Image layer */
.frame::before{
  content:"";
  position:absolute;
  inset:0;
  background-image: var(--img);
  background-size: cover;
  background-position: center;
  transform: translateX(var(--fromX, 0px)) scale(1.03);
  opacity: 0;
  transition: transform .7s cubic-bezier(.2,.8,.2,1), opacity .7s ease;
  will-change: transform, opacity;
}

/* Vignette */
.frame::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(ellipse at center, rgba(0,0,0,.10) 0%, rgba(0,0,0,.58) 78%, rgba(0,0,0,.82) 100%),
    linear-gradient(to bottom, rgba(0,0,0,.18), rgba(0,0,0,.40));
  opacity: .95;
}

/* Caption */
.caption{
  position:absolute;
  left:16px;
  right:16px;
  bottom:18px;
  padding: 10px 12px;
  border-radius: 14px;
  background: var(--glass);
  border: 1px solid rgba(255,255,255,.10);
  backdrop-filter: blur(10px);
  color: rgba(255,255,255,.86);
  font-size: 13px;
  line-height: 1.35;
  text-align:center;
  transform: translateY(10px);
  opacity: 0;
  transition: opacity .55s ease, transform .55s ease;
}

/* Reveal state */
.frame.reveal::before{
  opacity: 1;
  transform: translateX(0px) scale(1.03);
}
.frame.reveal .caption{
  opacity: 1;
  transform: translateY(0);
}

.message-page{
  min-height:100vh;
  display:grid;
  place-items:center;
  padding:24px;
}

.message-card{
  width:min(520px, 100%);
  padding:24px;
  border-radius:18px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  backdrop-filter: blur(10px);
  text-align:center;
}

.message-card h1{
  margin-top:0;
}

.message-card p{
  color: rgba(255,255,255,.85);
}

.muted{
  color: rgba(255,255,255,.6);
  font-size: 14px;
}

.ghost-btn{
  margin-top:12px;
  padding:10px 14px;
  border-radius:14px;
  background: transparent;
  border:1px solid rgba(255,255,255,.18);
  color: rgba(255,255,255,.8);
  cursor:pointer;
}
.ghost-btn:hover{
  background: rgba(255,255,255,.08);
}
